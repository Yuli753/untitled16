plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.10.0'
    testImplementation 'io.rest-assured:rest-assured:5.4.0'
    testImplementation 'io.qameta.allure:allure-rest-assured:2.17.2'
    testImplementation 'org.seleniumhq.selenium:selenium-java:4.20.0'
    testImplementation 'io.qameta.allure:allure-selenide:2.17.2'
    testImplementation 'io.qameta.allure:allure-junit5:2.17.2'

}

test {
    useJUnitPlatform()
}

tasks.register('apiTests', Test) {
    description = "Runs API tests"
    include '**/api/*Test.class'
    testClassesDirs = sourceSets.test.output.classesDirs
    classpath = sourceSets.test.runtimeClasspath
    reports.html.destination = file("$buildDir/reports/tests/api")
}

tasks.register('uiTests', Test) {
    description = "Runs UI tests"
    include '**/ui/*Test.class'
    testClassesDirs = sourceSets.test.output.classesDirs
    classpath = sourceSets.test.runtimeClasspath
    reports.html.destination = file("$buildDir/reports/tests/ui")
}

